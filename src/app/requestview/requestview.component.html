<!-- details of all request -->
<app-header></app-header>
<div class="list-group" *ngIf="request">
    <div class="list-group-item">
        <div class="container" style="padding-top: 10px; padding-bottom: 10px">
            <div class="row justify-content-center">
                <div class="col-xl-12">
                    <div class="row box_order_form" style="margin-bottom: 0px !important;padding: 10px;">
                        <div class="col d-flex" style="align-self: center">
                            <span><img src="img/schedule/companyadmin.png" alt="thumb" class="lazy"
                                    style="width: 35px; height: 35px; padding: 5px" /></span>
                            <span style="align-self: center">{{ request.companyName }}</span>
                        </div>
                        <div class="col d-flex" style="align-self: center">
                            <span>
                                <img src="img/schedule/emailadmin.png" alt="thumb" class="lazy"
                                    style="width: 35px; height: 35px; padding: 5px" /></span>
                            <span style="align-self: center">{{ request.emailId }} </span>
                        </div>
                        <div class="col d-flex" style="align-self: center">
                            <span>
                                <img src="img/schedule/calladmin.png" alt="thumb" class="lazy"
                                    style="width: 35px; height: 35px; padding: 5px" /></span>
                            <span style="align-self: center">{{ request.phoneNumber }}</span>
                        </div>
                        <div class="col d-flex" style="align-self: center">
                            <span *ngIf="request.status=='Request'">
                                <img src="img/schedule/status_request.png" alt="thumb" class="lazy"
                                    style="width: 35px; height: 35px; padding: 5px" /></span>
                            <span *ngIf="request.status=='Reject'">
                                        <img src="img/schedule/status_reject.png" alt="thumb" class="lazy"
                                            style="width: 35px; height: 35px; padding: 5px" /></span>
                            <span *ngIf="request.status=='Accept'">
                                                <img src="img/schedule/status_accept.png" alt="thumb" class="lazy"
                                                    style="width: 35px; height: 35px; padding: 5px" /></span>
                            <span style="align-self: center">{{ request.requestId }}</span>
                        </div>
                        <div *ngIf="request.status=='Request'" class="col d-flex" style="align-self: center;justify-content: flex-end;">

                            <span style="margin-left: 5px; cursor: pointer"><a
                            (click)="deleteRequest(request.requestId)"><img
                                src="img/schedule/failcorporate.png" alt="thumb" class="lazy"
                                style="width: 28px; height: 28px" /></a></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<main class="bg_gray">
    <div class="container" style="padding-top: 10px; padding-bottom: 10px" *ngFor="let data of Scheduledata;let i=index">
        <div class="row justify-content-center">
            <div class="col-xl-12">
                <div class="box_order_form">
                    <!-- /head -->
                    <div class="main">
                        <div class="row box_order_form" style="margin-bottom: 0px">
                            <div class="col-sm-10 align-items-center flex-container nowrap" style="padding: 5px">
                                <span><img src="img/schedule/empty.png" alt="thumb" class="lazy"
                                        style="width: 35px; height: 35px" /></span>
                                <span style="margin-left: -25px; margin-right: 10px">{{
                                    data.startDate.slice(8, 10)
                                    }}</span>
                                <div class="align-items-center" style="min-height: 35px">
                                    <p style="font-size: 12px; margin-bottom: 4px">
                                        {{ month_names_short[data.startDate.slice(5, 7)] }}
                                    </p>
                                    <p style="font-size: 12px; margin-bottom: 4px">
                                        {{ data.startDate.slice(0, 4) }}
                                    </p>
                                </div>

                                <span *ngIf="data.isBreakfast == true" class="foodtype" style="margin-left: 3px; font-size: 12px">Breakfast</span>
                                <span *ngIf="data.isDinner == true" class="foodtype" style="margin-left: 3px; font-size: 12px">Dinner</span>
                                <span *ngIf="data.isLunch == true" class="foodtype" style="margin-left: 3px; font-size: 12px">Lunch</span>
                            </div>
                            <div *ngIf="request.status=='Request'" class="col-sm-2 align-items-center flex-container nowrap" style="padding: 5px">
                                <span><a style="cursor: pointer" (click)="editSchedule(data.scheduleID)"><img
                                            src="img/schedule/edit_icon2.png" alt="thumb" class="lazy"
                                            style="width: 30px; height: 30px" /></a></span>
                                <span style="margin-left: 5px; cursor: pointer"><a
                                        (click)="deleteSchedule(data.scheduleID)"><img
                                            src="img/schedule/failcorporate.png" alt="thumb" class="lazy"
                                            style="width: 28px; height: 28px" /></a></span>
                            </div>
                        </div>

                        <div *ngFor="let item of data.dishesItems" class="row align-items-center flex-container nowrap">
                            <!-- loop dishes -->

                            <div class="col-sm-12 align-items-center flex-container nowrap" style="padding: 0px">
                                <span style="
                    padding: 3px;
                    border-style: solid;
                    border-right-style: dotted;
                    height: 80px;
                    border-left-style: none;
                    border-top-style: none;
                    border-bottom-style: none;
                    border-color: #f7b917;
                    width: 5px;
                  "></span>

                                <span style="margin-left: 1px; margin-right: 15px; width: 10px"><img
                                        src="img/schedule/halfcrop.png" alt="thumb" class="lazy"
                                        style="width: 10px; height: 15px" /></span>

                                <div class="row box_order_form" style="margin-bottom: 0px; width: 100%">
                                    <div class="col-10 align-items-center flex-container nowrap" style="padding: 5px">
                                        <span><img alt="thumb" class="lazy" style="width: 60px; height: 60px"
                                                src="{{ item.dishImageUrl }}" /></span>

                                        <div class="align-items-center">
                                            <p style="font-size: 12px; padding: 3px; margin: 0px">
                                                {{ item.noOfUnits }}X {{ item.dishItemName }}
                                            </p>
                                            <p style="font-size: 12px; padding: 3px; margin: 0px">
                                                ₹ {{ item.cost }}
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col-2 align-items-center flex-container nowrap" style="padding: 5px">
                                        <div class="align-items-center">
                                            <p style="font-size: 12px; padding: 3px; margin: 0px">
                                                ₹ {{ item.cost * item.noOfUnits }}
                                            </p>
                                            <br />
                                        </div>
                                    </div>
                                </div>
                                <!-- loop dishes -->
                            </div>
                        </div>

                        <div class="row align-items-center flex-container nowrap">
                            <div class="col-sm-12 align-items-center flex-container nowrap" style="padding: 0px">
                                <span style="
                    padding: 3px;
                    border-style: solid;
                    border-right-style: dotted;
                    height: 80px;
                    border-left-style: none;
                    border-top-style: none;
                    border-bottom-style: none;
                    border-color: #f7b917;
                    width: 5px;
                  "></span>

                                <span style="margin-left: 1px; margin-right: 15px; width: 10px"><img
                                        src="img/schedule/halfcrop.png" alt="thumb" class="lazy"
                                        style="width: 10px; height: 15px" /></span>

                                <div class="row" style="margin-bottom: 0px; width: 100%">
                                    <div class="col-12 align-items-center flex-container nowrap" style="padding: 5px">
                                        <span style="padding-right: 10px">Excludes Date :</span>

                                        <div class="align-items-center" *ngFor="let item of data.exclusionDates">
                                            <p style="
                          font-size: 12px;
                          padding: 3px;
                          margin: 0px;
                          font-size: 12px;
                        ">
                                                {{ month_names_short[item.slice(5, 7)] }}
                                            </p>
                                            <p style="
                          font-size: 12px;
                          padding: 5px;
                          margin: 0px;
                          text-align: center;
                        " class="circlebg">
                                                {{ item.slice(8, 10) }}
                                            </p>
                                            <p style="
                          font-size: 12px;
                          padding: 3px;
                          margin: 0px;
                          font-size: 12px;
                        ">
                                                {{ item.slice(0, 4) }}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row box_order_form">
                            <div class="col-sm-10 align-items-center flex-container nowrap" style="padding: 5px">
                                <span><img src="img/schedule/empty.png" alt="thumb" class="lazy"
                                        style="width: 35px; height: 35px" /></span>
                                <span style="margin-left: -25px; margin-right: 10px">{{
                                    data.endDate.slice(8, 10)
                                    }}</span>
                                <div class="align-items-center" style="min-height: 35px">
                                    <p style="font-size: 12px; margin-bottom: 4px">
                                        {{ month_names_short[data.endDate.slice(5, 7)] }}
                                    </p>
                                    <p style="font-size: 12px; margin-bottom: 4px">
                                        {{ data.endDate.slice(0, 4) }}
                                    </p>
                                </div>
                            </div>
                            <div class="col-sm-2 align-items-center flex-container nowrap" style="padding: 5px">
                                <span style="margin-right: 5px">Total : ₹ {{total[i]}}</span>

                                <span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /row -->

    <!-- /container -->
    <div class="container bg_gray">
        <div class="box_order_form" style="display: flex;justify-content: space-between;    margin: 5px;padding: 10px;">
            <div style="width: 350px;
            font-size: 15px;">
                <div style="display: flex;">
                    <span><b>Delivery Address</b></span>
                    <span *ngIf="request.status=='Request'"><a style="cursor: pointer;padding-left: 10px;" (click)="editAddress()"><img
                    src="img/schedule/edit_icon2.png" alt="thumb" class="lazy"
                    style="width: 30px; height: 30px" /></a></span>
                </div>
                <span>{{request.deliveryAddresses[0].addressLine1}}</span>,<br>
                <span>{{request.deliveryAddresses[0].addressLine2}}</span>,<br>
                <span>{{request.deliveryAddresses[0].city}} ,{{request.deliveryAddresses[0].postalCode}} </span>,<br>
                <span>{{request.deliveryAddresses[0].state}}</span>,<br>
                <span>{{request.deliveryAddresses[0].country}}</span>
            </div>
            <div style="width: 350px;
            font-size: 15px;">
                <div style="display: flex;justify-content: space-between;    margin: 5px;">
                    <span>Subtotal</span>
                    <span>₹ {{request.totalOrderValue}}</span>
                </div>
                <div style="display: flex;justify-content: space-between;    margin: 5px;">
                    <span>Delivery fee</span>
                    <span>FREE</span>
                </div>
                <div style="display: flex;justify-content: space-between;    margin: 5px;">
                    <span>Packaging Charges</span>
                    <span>FREE</span>
                </div>
                <div style="display: flex;justify-content: space-between;    margin: 5px;">
                    <span>Tax</span>
                    <span>0</span>
                </div>
                <div style="display: flex;justify-content: space-between;    margin: 5px;">
                    <span><b>Total</b></span>
                    <span>₹ {{request.totalOrderValue}}</span>
                </div>
            </div>
        </div>
        <div *ngIf="request.status=='Approved'" class="box_order_form" style="display: flex;justify-content: space-evenly;    margin: 5px;padding: 10px;">
            <a style="padding: 5px;width: 250px;text-align: center;background-color: limegreen;border-radius: 2px;color: white;cursor: pointer;">ACCEPTED</a>
        </div>
        <div *ngIf="request.status=='Rejected'" class="box_order_form" style="display: flex;justify-content: space-evenly;    margin: 5px;padding: 10px;">
            <a style="padding: 5px;width: 250px;text-align: center;background-color: red;border-radius: 2px;color: white;cursor: pointer;">REJECTED</a>
        </div>
    </div>
</main>
<app-cartvalue style="position: absolute;
top: 5px !important;
right: 80px;
z-index: 99999;" class="hidemobile"></app-cartvalue>
<style>
    /* The container */
    
    .container1 {
        display: block;
        position: relative;
        padding-left: 35px;
        margin-bottom: 12px;
        cursor: pointer;
        font-size: 20px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    /* Hide the browser's default checkbox */
    
    .container1 input {
        position: absolute;
        opacity: 0;
        cursor: pointer;
        height: 0;
        width: 0;
    }
    /* Create a custom checkbox */
    
    .checkmark {
        position: absolute;
        top: 0;
        left: 0;
        height: 22px;
        width: 22px;
        background-color: #eee;
        margin-left: 10px;
        margin-top: 5px;
        margin-bottom: 10px;
    }
    /* On mouse-over, add a grey background color */
    
    .container1:hover input~.checkmark {
        background-color: #ccc;
    }
    /* When the checkbox is checked, add a blue background */
    
    .container1 input:checked~.checkmark {
        background-color: #faba17;
    }
    /* Create the checkmark/indicator (hidden when not checked) */
    
    .checkmark:after {
        content: "";
        position: absolute;
        display: none;
    }
    /* Show the checkmark when checked */
    
    .container1 input:checked~.checkmark:after {
        display: block;
    }
    /* Style the checkmark/indicator */
    
    .container1 .checkmark:after {
        left: 8px;
        top: 2px;
        width: 5px;
        height: 13px;
        border: solid white;
        border-width: 0 3px 3px 0;
        -webkit-transform: rotate(45deg);
        -ms-transform: rotate(45deg);
        transform: rotate(45deg);
    }
    
    input[type="date"]::-webkit-calendar-picker-indicator {
        background: transparent;
        bottom: 0;
        color: transparent;
        cursor: pointer;
        height: auto;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        width: auto;
    }
    
    .flex-container {
        padding: 0;
        margin: 0;
        list-style: none;
        -ms-box-orient: horizontal;
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -moz-flex;
        display: -webkit-flex;
        display: flex;
    }
    
    .nowrap {
        -webkit-flex-wrap: nowrap;
        flex-wrap: nowrap;
    }
    
    .wrap {
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
    }
    
    .wrap li {
        background: gold;
    }
    
    .wrap-reverse {
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
    }
    
    .wrap-reverse li {
        background: deepskyblue;
    }
    
    .flex-item {
        background: tomato;
        padding: 5px;
        width: 100px;
        height: 100px;
        margin: 10px;
        line-height: 100px;
        color: white;
        font-weight: bold;
        font-size: 2em;
        text-align: center;
    }
    
    .foodtype {
        color: #444;
        -webkit-border-radius: 20px;
        -moz-border-radius: 20px;
        -ms-border-radius: 20px;
        border-radius: 20px;
        background-color: black;
        background-color: rgba(0, 0, 0, 0.05);
        padding: 5px 15px;
    }
    
    .vertical_dotted_line {
        border-left: 1px dotted black;
        height: 100px;
    }
    
    .circlebg {
        width: 28px;
        height: 28px;
        background: #e54750;
        -moz-border-radius: 70px;
        -webkit-border-radius: 70px;
        border-radius: 70px;
        color: #fff;
    }
</style>