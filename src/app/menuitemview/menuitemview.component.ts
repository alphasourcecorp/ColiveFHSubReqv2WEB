import { JsonPipe } from '@angular/common';
import { JsonpInterceptor } from '@angular/common/http';
import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';
import { MenuItemSelectionInfo } from '../models/menu-item-selection-info';
import { MenuItem } from '../models/menuitem';
import { Menu } from '../models/menu';
import {AddcartService} from '../addcart.service'
@Component({
  selector: 'app-menuitemview',
  templateUrl: './menuitemview.component.html',
  styleUrls: ['./menuitemview.component.css']
})
export class MenuitemviewComponent implements OnInit {
  public menu:Menu;
  public value:any;
  @Input() menuItemSelectionInfo:MenuItemSelectionInfo;
  public loclobj2:any;
  @Input() public menuItem: MenuItem;
  @Output() public menuItemChanged = new EventEmitter<MenuItemSelectionInfo>();



  constructor( ) {
    this.value = {
      '0004001': '0', '0004002': '0', '0004003': '0', '0004004': '0',
      '0004005': '0', '0004006': '0', '0004007': '0', '0004008': '0',
      '0004009': '0', '0004010': '0', '0003001': '0', '0003002': '0',
      '0003003': '0', '0003004': '0', '0003005': '0',  '0003006': '0',
      '0003007': '0',  '0003008': '0',  '0003009': '0',  '0003010': '0', 
       '0003011': '0',  '0003012': '0',  '0003013': '0',
      '0007001': '0', '0007002': '0', '0007003': '0',
      '0007004': '0', '0007005': '0', '0007006': '0', '0007007': '0',
      '0007008': '0', '0007009': '0', '0007010': '0',
      '0007011': '0', '0007012': '0', '0007013': '0', '0007014': '0',
      '0007015': '0', '0007016': '0', '0007017': '0',
      '0007018': '0', '0007019': '0', '0007020': '0', 
      '0008001': '0', '0008002': '0', '0008003': '0',
      '0008004': '0', '0008005': '0', '0008006': '0',
      '0008007': '0', '0008008': '0', '0008009': '0',
      '0008010': '0', '0008011': '0', '0008012': '0',
      '0008013': '0', '0008014': '0', '0008015': '0',
      '0008016': '0', '0008017': '0', '0008018': '0',
      '0008019': '0', '0008020': '0', '0008021': '0','0008022': '0', 
      '0001001': '0','0001002': '0', '0001003': '0', '0001004': '0', '0001005': '0','0001006': '0', 
     '0002001': '0', '0002002': '0', '0002003': '0', '0002004': '0',
      '0002005': '0', '0002006': '0', '0002007': '0', '0002008': '0',
      '0002009': '0', '0002010': '0', '0002011': '0', '0002012': '0',
      '0002013': '0', '0002014': '0', '0002015': '0',
      '0005001': '0', '0005002': '0', '0005003': '0', '0005004': '0', '0005005': '0', 
      '0005006': '0', '0005007': '0', '0005008': '0', '0005009': '0', '0005010': '0', 
      '0005011': '0', '0005012': '0', '0005013': '0', '0005014': '0', '0005015': '0', 
      '0006001': '0', '0006002': '0', '0006003': '0', '0006004': '0', '0006005': '0', 
      '0006006': '0', '0006007': '0', '0006008': '0', '0006009': '0', '0006010': '0', 
      '0006011': '0', '0006012': '0', '0006013': '0', '0006014': '0', '0006015': '0', 
      '0009001': '0', '0009002': '0', '0009003': '0',
      '0009004': '0', '0009005': '0', '0009006': '0', '0009007': '0',
      '0010001': '0', '0010002': '0', '0010003': '0', '0010004': '0', '0010005': '0',
      '0010006': '0', '0010007': '0', '0010008': '0', '0010009': '0','0010010': '0',
      '0010011': '0', '0010012': '0', '0010013': '0', '0010014': '0', '0010015': '0',
      '0010016': '0', '0010017': '0', '0010018': '0', '0010019': '0','0010020': '0',
      '0010021': '0', '0010022': '0', '0010023': '0', '0010024': '0', '0010025': '0',
      '0010026': '0', '0010027': '0', '0010028': '0', '0010029': '0','0010030': '0',
      '0010031': '0', '0010032': '0', '0010033': '0', '0010034': '0'
    };
  }

  ngOnInit(): void {
    // this.value['0004001']="5";
    // this.handleQuantity(1,"0004001");

    }

  handleQuantity(units: number,x) {
    var y = this.value[x];
    var z = parseInt(y);
    z -= units;

    if (z <= 0) {
      z = 0;
    }

    this.menuItemChanged.emit({
      menuItem: this.menuItem,
      quantity: z
    });

    this.value[x] = z.toString();


  }



}
